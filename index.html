<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é›»ä¸‰å­é»åç®¡ç†ç³»çµ± v13</title>
    <style>
        :root { --primary: #4cc9f0; --secondary: #f72585; --bg: #0f172a; --card: rgba(30, 41, 59, 0.9); }
        body { font-family: 'Segoe UI', 'Microsoft JhengHei', sans-serif; background: radial-gradient(circle at top right, #1e293b, #0f172a); color: white; margin: 0; min-height: 100vh; display: flex; align-items: center; justify-content: center; overflow: hidden; }
        
        .marquee-container { position: fixed; top: 0; width: 100%; background: #c0392b; color: white; padding: 10px 0; z-index: 1000; overflow: hidden; display: none; }
        .marquee-text { display: inline-block; white-space: nowrap; animation: scroll 20s linear infinite; font-weight: bold; font-size: 1.1rem; }
        @keyframes scroll { from { transform: translateX(100%); } to { transform: translateX(-100%); } }

        #login-wall { background: var(--card); backdrop-filter: blur(15px); padding: 40px; border-radius: 24px; border: 1px solid rgba(255,255,255,0.1); width: 90%; max-width: 380px; text-align: center; box-shadow: 0 25px 50px rgba(0,0,0,0.5); z-index: 101; }
        .logo { font-size: 2.2rem; font-weight: 900; margin-bottom: 25px; background: linear-gradient(to right, #4cc9f0, #4361ee); -webkit-background-clip: text; -webkit-text-fill-color: transparent; letter-spacing: 2px; }
        input { width: 100%; padding: 12px; margin: 10px 0; border-radius: 12px; border: 1px solid rgba(255,255,255,0.2); background: rgba(15,23,42,0.9); color: white; box-sizing: border-box; font-size: 1rem; }
        .btn-action { width: 100%; padding: 12px; margin-top: 15px; border-radius: 12px; border: none; background: linear-gradient(45deg, #4361ee, #4cc9f0); color: white; font-weight: bold; cursor: pointer; transition: 0.3s; }
        .btn-action:hover { transform: translateY(-2px); box-shadow: 0 5px 15px rgba(67, 97, 238, 0.4); }
        
        #main-content { display: none; width: 100%; flex-direction: column; align-items: center; padding-top: 60px; overflow-y: auto; height: 100vh; }
        .container { background: var(--card); backdrop-filter: blur(10px); padding: 30px; border-radius: 24px; border: 1px solid rgba(255,255,255,0.1); width: 90%; max-width: 450px; text-align: center; margin-bottom: 30px; }
        #clock { font-size: 3.5rem; font-weight: 900; color: var(--primary); margin: 5px 0; }
        #current-lesson { font-size: 1.2rem; color: #ffeb3b; margin: 10px 0; font-weight: bold; background: rgba(255, 235, 59, 0.1); padding: 12px; border-radius: 8px; border: 1px solid rgba(255,235,59,0.3); }
        #timer { font-size: 1.3rem; color: var(--secondary); margin: 10px 0; font-weight: bold; }
        .section-title { color: var(--primary); margin: 20px 0 10px; font-size: 1.2rem; border-bottom: 1px solid rgba(255,255,255,0.1); padding-bottom: 5px; }
    </style>
</head>
<body>

    <div id="top-marquee" class="marquee-container">
        <div class="marquee-text">ğŸ“¢ ç­å‹™æé†’ï¼šè«‹ç«‹å³ç¹³äº¤æ‰‹æ©Ÿï¼è¯çµ¡ç°¿è«‹ç¢ºå¯¦äº¤é½Šè‡³è¬›æ¡Œï¼ ğŸ“¢ &nbsp;&nbsp;&nbsp;&nbsp; â° æé†’ï¼šæ¯æ—¥ 07:00 èµ·åºŠé¬§é˜å·²å•Ÿå‹• â°</div>
    </div>

    <div id="login-wall">
        <div class="logo">é›»ä¸‰å­é»åç³»çµ±</div>
        <input type="text" id="user" placeholder="ç®¡ç†å“¡å¸³è™Ÿ">
        <input type="password" id="pass" placeholder="å­˜å–å¯†ç¢¼">
        <button class="btn-action" onclick="doLogin()">é€²å…¥ç³»çµ±</button>
        <span style="display:block; margin-top:15px; color:#94a3b8; font-size:0.8rem; cursor:pointer;" onclick="alert('æç¤ºï¼š1234')">å¿˜è¨˜å¯†ç¢¼ï¼Ÿ</span>
    </div>

    <div id="main-content">
        <div class="container">
            <div id="clock">00:00:00</div>
            <div id="current-lesson">æ­£åœ¨è®€å–èª²è¡¨...</div>
            <div id="timer">è¨ˆç®—ä¸‹èª²ä¸­...</div>

            <div class="section-title">å­¸ç”Ÿæœå°‹</div>
            <input type="number" id="stuId" placeholder="è¼¸å…¥åº§è™Ÿ" style="width: 50%; display: inline-block;">
            <button class="btn-action" style="width: 40%; margin:0; padding: 10px; display: inline-block; vertical-align: top; margin-left: 5px;" onclick="checkName()">æœå°‹</button>
            <div id="result" style="margin-top:15px; font-size: 1.5rem; color: var(--primary); font-weight: bold; min-height: 40px;"></div>

            <div class="section-title">ç­ç´šæŠ½ç±¤</div>
            <button class="btn-action" style="background: linear-gradient(45deg, #f72585, #b5179e);" onclick="luckyDraw()">éš¨æ©ŸæŠ½å–ä¸€ä½å¹¸é‹å…’</button>
            <div id="lucky-result" style="margin-top:15px; font-size: 1.8rem; color: #ffeb3b; font-weight: bold; min-height: 45px;"></div>
        </div>
    </div>

    <script>
        const AUTH = { user: "admin", pass: "1234" };
        
        // è·ç¨±å¤§é¢¨å¹ï¼šä¸»ä»»ã€è€å¸«ã€åŠ©æ•™ã€è‹±æ–‡è€å¸«
        const schedule = {
            1: ["â˜• ä¼‘æ¯æ™‚é–“", "åœ‹æ–‡è€å¸«", "è‹±èªæœƒè©± è‹±æ–‡è€å¸«", "è‹±èªæ–‡ è‹±æ–‡è€å¸«", "é€²éšæ•¸å­¸ æ•¸å­¸è€å¸«", "æ‡‰ç”¨åŸºæœ¬é›»å­¸ åŠ©æ•™", "æ‡‰ç”¨åŸºæœ¬é›»å­¸ åŠ©æ•™"],
            2: ["é«”è‚²è€å¸«", "é›»å·¥æ©Ÿæ¢°é€²éš ä¸»ä»»", "é›»å·¥æ©Ÿæ¢°é€²éš ä¸»ä»»", "é–±è®€èˆ‡èªçŸ¥ é–±è®€è€å¸«", "â˜• ä¼‘æ¯æ™‚é–“", "é€²éšæ•¸å­¸ æ•¸å­¸è€å¸«", "â˜• ä¼‘æ¯æ™‚é–“"],
            3: ["é›»å·¥æ©Ÿæ¢°å¯¦ç¿’ ä¸»ä»»", "é›»å·¥æ©Ÿæ¢°å¯¦ç¿’ ä¸»ä»»", "é›»å·¥æ©Ÿæ¢°å¯¦ç¿’ ä¸»ä»»", "è‹±èªæœƒè©± è‹±æ–‡è€å¸«", "å¾®é›»è…¦çµæ§‹ åŠ©æ•™", "å¾®é›»è…¦çµæ§‹ åŠ©æ•™", "åœ‹æ–‡è€å¸«"],
            4: ["æ•¸ä½é‚è¼¯å¯¦ç¿’ åŠ©æ•™", "æ•¸ä½é‚è¼¯å¯¦ç¿’ åŠ©æ•™", "æ•¸ä½é‚è¼¯å¯¦ç¿’ åŠ©æ•™", "é€²éšæ•¸å­¸ æ•¸å­¸è€å¸«", "å°ˆé¡Œå¯¦ä½œ åŠ©æ•™", "å°ˆé¡Œå¯¦ä½œ åŠ©æ•™", "å°ˆé¡Œå¯¦ä½œ åŠ©æ•™"],
            5: ["è‹±èªæ–‡ è‹±æ–‡è€å¸«", "é›»åŠ›é›»å­æ‡‰ç”¨å¯¦ç¿’ åŠ©æ•™", "é›»åŠ›é›»å­æ‡‰ç”¨å¯¦ç¿’ åŠ©æ•™", "é›»åŠ›é›»å­æ‡‰ç”¨å¯¦ç¿’ åŠ©æ•™", "é«”è‚²è€å¸«", "é–±è®€èˆ‡èªçŸ¥ é–±è®€è€å¸«", "é›»å·¥æ©Ÿæ¢°é€²éš ä¸»ä»»"]
        };

        const students = {
            "1": "æ—æ¹˜å‡Œ", "2": "é‚±å©‰ç³", "3": "é§±æ˜±å½£", "4": "æ–½é›…ç‘„", "5": "é …ç¿å»·",
            "6": "æœæŸæ˜‚", "7": "é™³å¿—å€«", "8": "é¡éŠ˜å¾µ", "9": "æ—å°šå»·", "10": "å¾å¾—è»’",
            "11": "è”¡ä¸æ©", "12": "é‚±å®¥ç¿", "13": "çŸ³æµ©æ–‡", "14": "ç‹å“å ¯", "15": "å‘¨è¾°æ—­",
            "16": "ç‹æ·®è¬™", "17": "æ—æ˜“æ¾„", "18": "é»ƒå­˜è±ª", "19": "æŸ³å‡±åš", "20": "å­«æ²‚éˆ",
            "21": "é¦®é–å¯Œ", "22": "é™³ä½‘ç‘œ", "23": "æ–½é‚¦ä½‘", "24": "èŒƒèˆœç‚º", "25": "è¨±ç¿”ç¡¯",
            "26": "é™³æ•¬æ©", "27": "é™³å­¸æ´‹", "28": "æ±Ÿéƒæ˜Œ", "29": "é„­é–æ¥·", "30": "æ±Ÿæ‰¿æ©",
            "31": "æ´ªç•¯æ¥·", "32": "é„­è¿å»·", "33": "ä½•æ‰¿æ©", "34": "å¼µè­°æ¾§", "35": "è”¡å“å®‡",
            "36": "æ›¾æŸè«º", "37": "è©¹è© å…¨", "38": "æ–¹å»·ç¥", "39": "é™³å‚³å¡", "40": "å‘¨å½¥æˆ",
            "41": "å³æŸè«º"
        };

        function doLogin() {
            if(document.getElementById('user').value === AUTH.user && document.getElementById('pass').value === AUTH.pass) {
                document.getElementById('login-wall').style.display = 'none';
                document.getElementById('main-content').style.display = 'flex';
                document.getElementById('top-marquee').style.display = 'block';
                initSystem();
            } else { alert("é©—è­‰å¤±æ•—"); }
        }

        function initSystem() {
            const lessonTimes = ["08:00", "09:00", "10:00", "11:00", "12:00", "13:05", "14:00", "15:00", "16:00", "17:00"];
            const breakTimes = ["08:50", "09:50", "10:50", "11:50", "13:05", "14:00", "15:00", "16:00", "17:00"];

            setInterval(() => {
                const now = new Date();
                const day = now.getDay();
                const timeStr = now.toLocaleTimeString('zh-TW', { hour12: false });
                document.getElementById('clock').innerText = timeStr;

                let lessonText = "â˜• ç›®å‰éä¸Šèª²æ™‚é–“";
                const currentSecs = (now.getHours() * 3600) + (now.getMinutes() * 60) + now.getSeconds();
                
                if (day >= 1 && day <= 5) {
                    for(let i=0; i<7; i++) {
                        const [sh, sm] = lessonTimes[i].split(':').map(Number);
                        const [eh, em] = breakTimes[i].split(':').map(Number);
                        if (currentSecs >= (sh*3600+sm*60) && currentSecs < (eh*3600+em*60)) {
                            lessonText = `ğŸ“– ç¬¬ ${i+1} ç¯€ï¼š${schedule[day][i]}`;
                            break;
                        }
                    }
                }
                document.getElementById('current-lesson').innerText = lessonText;

                let nextBreak = null;
                for (let t of breakTimes) {
                    const [bh, bm] = t.split(':').map(Number);
                    const bSecs = (bh * 3600) + (bm * 60);
                    if (bSecs > currentSecs) {
                        const diff = bSecs - currentSecs;
                        document.getElementById('timer').innerText = `ğŸ”” ä¸‹èª²å€’æ•¸ï¼š${Math.floor(diff/60)}åˆ†${diff%60}ç§’`;
                        nextBreak = t; break;
                    }
                }
                if (!nextBreak) document.getElementById('timer').innerText = "ä»Šæ—¥èª²ç¨‹å·²çµæŸ";
            }, 1000);
        }

        function checkName() {
            const id = document.getElementById('stuId').value;
            document.getElementById('result').innerText = students[id] ? `åº§è™Ÿ ${id}ï¼š${students[id]}` : (id==="" ? "" : "æŸ¥ç„¡æ­¤è™Ÿ");
        }

        function luckyDraw() {
            const res = document.getElementById('lucky-result');
            res.innerText = "ğŸ² æŠ½å–ä¸­...";
            let count = 0;
            const interval = setInterval(() => {
                const randomId = Math.floor(Math.random() * 41) + 1;
                res.innerText = `ğŸ² åº§è™Ÿ ${randomId}ï¼š${students[randomId]}`;
                count++;
                if (count > 10) clearInterval(interval);
            }, 100);
        }
    </script>
</body>
</html>
