<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ™ºæ…§æ ¡åœ’ - æ·±è‰²ç§‘æŠ€ç‰ˆ v6</title>
    <style>
        body { font-family: 'Microsoft JhengHei', sans-serif; display: flex; flex-direction: column; align-items: center; padding: 0; margin: 0; background-color: #1a1a2e; color: #e0e0e0; transition: background 0.5s; }
        .alarm-active { background-color: #4a0e0e !important; }
        
        .marquee { width: 100%; background: #c0392b; color: white; padding: 12px 0; font-weight: bold; overflow: hidden; white-space: nowrap; box-shadow: 0 2px 10px rgba(0,0,0,0.5); }
        .marquee span { display: inline-block; padding-left: 100%; animation: marquee 15s linear infinite; font-size: 1.2rem; }
        @keyframes marquee { 0% { transform: translate(0, 0); } 100% { transform: translate(-100%, 0); } }

        .container { background: #16213e; padding: 30px; border-radius: 20px; box-shadow: 0 10px 40px rgba(0,0,0,0.5); width: 90%; max-width: 450px; text-align: center; margin-top: 30px; border: 1px solid #0f3460; }
        
        #clock { font-size: 3.8em; color: #4cc9f0; font-weight: bold; margin: 10px 0; text-shadow: 0 0 10px rgba(76, 201, 240, 0.5); }
        .timer-label { font-size: 1.1em; color: #94a3b8; margin-top: 10px; }
        #timer { font-size: 1.8em; font-weight: bold; color: #f72585; margin-bottom: 20px; padding: 10px; background: #1b262c; border-radius: 10px; border: 1px solid #f72585; }

        .alarm-info { color: #f39c12; font-weight: bold; margin-bottom: 10px; font-size: 0.9em; }

        .search-box { border-top: 1px solid #0f3460; padding-top: 25px; }
        h3 { color: #4cc9f0; }
        input { width: 75%; padding: 12px; margin: 10px 0; border: 1px solid #0f3460; border-radius: 10px; font-size: 1rem; background: #0f3460; color: white; outline: none; }
        input:focus { border-color: #4cc9f0; }
        button { background-color: #4361ee; color: white; border: none; padding: 12px 25px; border-radius: 10px; cursor: pointer; font-size: 1rem; font-weight: bold; transition: 0.3s; }
        button:hover { background-color: #3f37c9; transform: scale(1.05); }
        #result { margin-top: 20px; font-size: 1.6em; font-weight: bold; color: #4cc9f0; min-height: 40px; text-shadow: 0 0 5px rgba(76, 201, 240, 0.3); }
    </style>
</head>
<body>

    <div class="marquee">
        <span>ğŸ“¢ ç­å‹™æé†’ï¼šè«‹ç«‹å³ç¹³äº¤æ‰‹æ©Ÿï¼è¯çµ¡ç°¿è«‹ç¢ºå¯¦äº¤é½Šè‡³è¬›æ¡Œï¼ ğŸ“¢</span>
    </div>

    <div class="container">
        <div class="alarm-info">â° æ¯æ—¥ 07:00 èµ·åºŠé¬§é˜å·²å•Ÿå‹•</div>
        <div class="timer-label">ç¾åœ¨æ™‚åˆ»</div>
        <div id="clock">00:00:00</div>

        <div class="timer-label">ğŸ”” ä¸‹èª²å€’æ•¸</div>
        <div id="timer">è¨ˆç®—ä¸­...</div>

        <div class="search-box">
            <h3>ç­ç´šåå–®æŸ¥è©¢</h3>
            <input type="number" id="stuId" placeholder="è¼¸å…¥å­¸ç”Ÿåº§è™Ÿ...">
            <br>
            <button onclick="checkName()">æœå°‹å§“å</button>
            <div id="result"></div>
        </div>
    </div>

    <script>
        // è¨­å®šæ–°çš„ä¸‹èª²æ™‚é–“é» (æ ¹æ“šæ‚¨çš„éœ€æ±‚èª¿æ•´)
        const breakTimes = [
            "08:50", "09:50", "10:50", "11:50", // ä¸Šåˆ 50 åˆ†ä¸‹èª²
            "13:05",                            // 1é»05åˆ†ä¸‹èª²
            "14:00", "15:00", "16:00", "17:00"  // æ¯æ•´é»ä¸‹èª²åˆ° 5 é»æ”¾å­¸
        ];

        let alarmTriggered = false;

        function update() {
            const now = new Date();
            const timeStr = now.toLocaleTimeString('zh-TW', { hour12: false });
            document.getElementById('clock').innerText = timeStr;
            
            if (timeStr.startsWith("07:00:00") && !alarmTriggered) {
                alarmTriggered = true;
                document.body.classList.add('alarm-active');
                alert("â° æ—©ä¸Š 7:00 äº†ï¼å¤§å®¶èµ·åºŠå›‰ï¼");
                setTimeout(() => { document.body.classList.remove('alarm-active'); }, 5000);
            }
            if (timeStr === "00:00:00") alarmTriggered = false;

            let nextBreak = null;
            const currentSecs = (now.getHours() * 3600) + (now.getMinutes() * 60) + now.getSeconds();
            for (let t of breakTimes) {
                const [bh, bm] = t.split(':').map(Number);
                const bSecs = (bh * 3600) + (bm * 60);
                if (bSecs > currentSecs) {
                    const diff = bSecs - currentSecs;
                    document.getElementById('timer').innerText = `${Math.floor(diff/60)} åˆ† ${diff%60} ç§’`;
                    nextBreak = t;
                    break;
                }
            }
            if (!nextBreak) document.getElementById('timer').innerText = "ä»Šæ—¥èª²ç¨‹å·²çµæŸ";
        }
        setInterval(update, 1000);
        update();

        const students = {
            "1": "æ—æ¹˜å‡Œ", "2": "é‚±å©‰ç³", "3": "é§±æ˜±å½£", "4": "æ–½é›…ç‘„", "5": "é …ç¿å»·",
            "6": "æœæŸæ˜‚", "7": "é™³å¿—å€«", "8": "é¡éŠ˜å¾µ", "9": "æ—å°šå»·", "10": "å¾å¾—è»’",
            "11": "è”¡ä¸æ©", "12": "é‚±å®¥ç¿", "13": "çŸ³æµ©æ–‡", "14": "ç‹å“å ¯", "15": "å‘¨è¾°æ—­",
            "16": "ç‹æ·®è¬™", "17": "æ—æ˜“æ¾„", "18": "é»ƒå­˜è±ª", "19": "æŸ³å‡±åš", "20": "å­«æ²‚éˆ",
            "21": "é¦®é–å¯Œ", "22": "é™³ä½‘ç‘œ", "23": "æ–½é‚¦ä½‘", "24": "èŒƒèˆœç‚º", "25": "è¨±ç¿”ç¡¯",
            "26": "é™³æ•¬æ©", "27": "é™³å­¸æ´‹", "28": "æ±Ÿéƒæ˜Œ", "29": "é„­é–æ¥·", "30": "æ±Ÿæ‰¿æ©",
            "31": "æ´ªç•¯æ¥·", "32": "é„­è¿å»·", "33": "ä½•æ‰¿æ©", "34": "å¼µè­°æ¾§", "35": "è”¡å“å®‡",
            "36": "æ›¾æŸè«º", "37": "è©¹è© å…¨", "38": "æ–¹å»·ç¥", "39": "é™³å‚³å¡", "40": "å‘¨å½¥æˆ",
            "41": "å³æŸè«º"
        };

        function checkName() {
            const id = document.getElementById('stuId').value;
            const res = document.getElementById('result');
            res.style.color = students[id] ? "#4cc9f0" : "#ff4d4d";
            res.innerText = students[id] ? `åº§è™Ÿ ${id}ï¼š${students[id]}` : (id==="" ? "" : "æ‰¾ä¸åˆ°æ­¤åº§è™Ÿï¼");
        }
    </script>
</body>
</html>
