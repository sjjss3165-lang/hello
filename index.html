<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é›»æ©Ÿç§‘æ•¸æ“šçµ±è¨ˆç³»çµ±ğŸ‘©ğŸ¼â€ğŸ³</title>
    <style>
        :root {
            --neon-blue: #00d4ff;
            --neon-purple: #9d00ff;
            --circuit-bg: #0a0e14;
            --card-bg: rgba(22, 33, 46, 0.8);
            --open-color: #00ff88;
            --closed-color: #ff4d4d;
            --hot-gold: #f1c40f;
        }

        body {
            font-family: "PingFang TC", "Microsoft JhengHei", sans-serif;
            background-color: var(--circuit-bg);
            /* é›»è·¯æ¿èƒŒæ™¯ç´‹ç† */
            background-image: 
                radial-gradient(circle at 2px 2px, rgba(157, 0, 255, 0.1) 1px, transparent 0),
                linear-gradient(rgba(0, 212, 255, 0.05) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0, 212, 255, 0.05) 1px, transparent 1px);
            background-size: 40px 40px, 40px 40px, 40px 40px;
            margin: 0; padding: 0; color: #e0e0e0;
            scroll-behavior: smooth;
        }

        header {
            background: rgba(10, 14, 20, 0.95);
            padding: 1.5rem; text-align: center;
            border-bottom: 2px solid var(--neon-blue);
            box-shadow: 0 0 20px rgba(0, 212, 255, 0.4);
            position: sticky; top: 0; z-index: 1000;
            backdrop-filter: blur(10px);
        }

        h1 { 
            background: linear-gradient(90deg, var(--neon-blue), var(--neon-purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 0 10px rgba(157, 0, 255, 0.5);
            margin: 0; font-size: 1.8rem;
        }

        .tool-bar {
            background: rgba(0, 0, 0, 0.5); padding: 15px;
            display: flex; justify-content: center; gap: 12px; flex-wrap: wrap;
        }

        .btn-tech {
            background: transparent; color: var(--neon-blue); 
            border: 1px solid var(--neon-blue);
            padding: 10px 20px; border-radius: 4px; cursor: pointer;
            font-weight: bold; transition: 0.3s;
            text-transform: uppercase;
        }

        .btn-tech:hover {
            background: var(--neon-blue); color: #000;
            box-shadow: 0 0 15px var(--neon-blue);
        }

        .container { max-width: 1100px; margin: 20px auto; padding: 0 15px; }
        .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); gap: 25px; }
        
        .card {
            background: var(--card-bg); padding: 25px; border-radius: 8px;
            border: 1px solid rgba(157, 0, 255, 0.2);
            position: relative; transition: 0.3s;
        }
        
        .card:hover {
            border-color: var(--neon-blue);
            box-shadow: 0 0 20px rgba(0, 212, 255, 0.2);
            transform: translateY(-5px);
        }

        .status-tag { position: absolute; top: 15px; right: 15px; padding: 4px 8px; border-radius: 2px; font-size: 0.75rem; font-weight: bold; letter-spacing: 1px; }
        .tag-open { color: var(--open-color); border: 1px solid var(--open-color); }
        .tag-closed { color: var(--closed-color); border: 1px solid var(--closed-color); }

        /* æ•¸æ“šçµ±è¨ˆå™¨å°ˆå±¬æ¨£å¼ */
        .order-system { 
            background: rgba(22, 33, 46, 0.95); padding: 30px; border-radius: 12px; 
            margin-top: 50px; border: 1px solid var(--neon-purple); 
            box-shadow: 0 0 30px rgba(157, 0, 255, 0.2);
        }

        .data-source-info {
            background: rgba(0, 212, 255, 0.1); padding: 15px; border-radius: 4px;
            border-left: 4px solid var(--neon-blue); margin-bottom: 20px;
            font-family: 'Courier New', Courier, monospace;
        }

        table { width: 100%; border-collapse: collapse; margin-top: 15px; }
        th, td { border: 1px solid rgba(157, 0, 255, 0.1); padding: 12px; text-align: center; }
        th { color: var(--neon-purple); text-transform: uppercase; font-size: 0.9rem; }
        input { background: #0a0e14; border: 1px solid #333; color: var(--neon-blue); padding: 10px; width: 90%; border-radius: 4px; }
        input:focus { border-color: var(--neon-blue); outline: none; }

        .total-display { text-align: right; font-size: 1.8rem; font-weight: bold; color: var(--neon-blue); margin-top: 25px; text-shadow: 0 0 10px var(--neon-blue); }

        footer { text-align: center; padding: 50px; color: #555; font-size: 0.8rem; }
    </style>
</head>
<body>

<header>
    <h1>é›»æ©Ÿç§‘æ•¸æ“šçµ±è¨ˆç³»çµ± V2.0 âš¡</h1>
</header>

<div class="tool-bar">
    <button class="btn-tech" onclick="filterHot()">ğŸ”¥ ç†±é–€åº—å®¶</button>
    <button class="btn-tech" onclick="renderStores()">ğŸ”„ åˆ·æ–°å…¨æ•¸æ“š</button>
</div>

<div class="container">
    <section id="drinks"><h2>ğŸ¥¤ é£²æ–™ä¾›æ‡‰éˆæ•¸æ“š</h2><div id="drinks-grid" class="grid"></div></section>
    <section id="food"><h2>ğŸœ èƒ½é‡è£œçµ¦ç«™æ•¸æ“š</h2><div id="food-grid" class="grid"></div></section>

    <section id="order-tool">
        <div class="order-system">
            <div style="display:flex; justify-content:space-between; align-items:center;">
                <h2 style="color:var(--neon-purple); margin:0;">ğŸ“Š ç­ç´šæ•¸æ“šçµ±è¨ˆå™¨</h2>
                <button class="btn-tech" style="border-color:var(--closed-color); color:var(--closed-color);" onclick="resetData()">CLEAR DATA</button>
            </div>
            
            <div class="data-source-info">
                STATUS: <span style="color:var(--open-color)">READY</span><br>
                SOURCE_STORE: <span id="current-store-name" style="color:var(--hot-gold)">WAITING FOR SELECTION...</span>
            </div>

            <table id="dataTable">
                <thead><tr><th>åº§è™Ÿ/å§“å</th><th>æ•¸æ“šå“é …</th><th>é‡‘é¡ ($)</th><th>ç®¡ç†</th></tr></thead>
                <tbody><tr><td><input type="text"></td><td><input type="text"></td><td><input type="number" class="val-input" oninput="sumTotal()"></td><td><button style="background:none; border:none; color:var(--closed-color); cursor:pointer;" onclick="this.closest('tr').remove();sumTotal()">[DEL]</button></td></tr></tbody>
            </table>
            <button onclick="addRow()" class="btn-tech" style="margin-top:20px;">ADD NEW RECORD</button>
            <div class="total-display">TOTAL_AMT: $<span id="totalSum">0</span></div>
        </div>
    </section>
</div>

<footer>
    <p>EE DEPARTMENT ORDERING SYSTEM Â© 2026</p>
</footer>

<script>
const stores = [
    // é£²æ–™åº— (çµ±æ•´ç‡Ÿæ¥­æ™‚é–“)
    { name: "æ¸…å¿ƒ åŸºéš†æµ·å¤§åº—", tel: "0224626266", url: "http://chingshin.tw/", cat: "drink", isHot: false, hours: { all: ["11:00", "22:45"] } },
    { name: "å¯ä¸å¯ åŸºéš†æ·±æºªåº—", tel: "0224659695", url: "https://www.kebuke.com/", cat: "drink", isHot: true, hours: { all: ["10:00", "22:00"] } },
    { name: "50åµ åŸºéš†æ·±æºªåº—", tel: "0224683368", url: "https://order.nidin.shop/menu/21216", cat: "drink", isHot: true, hours: { all: ["10:00", "22:00"] } },
    { name: "é¾œè¨˜ åŸºéš†åº—", tel: "0224258889", url: "https://guiji.doteat.tw/menu?storeId=LEzDQINl-0000wKv98o&showBulletin=1", cat: "drink", isHot: false, hours: { all: ["11:00", "22:00"] } },
    { name: "è¿·å®¢å¤ åŸºéš†å»Ÿå£åº—", tel: "0224261766", url: "https://milksha.nidin.shop/menu/491", cat: "drink", isHot: false, hours: { all: ["10:00", "21:00"] } },
    { name: "äº”æ¡è™Ÿ åŸºéš†ä»ä¸‰åº—", tel: "0224283616", url: "https://www.wootea.com/menu/", cat: "drink", isHot: true, hours: { 1: null, 2: ["11:00", "20:00"], 3: ["11:00", "20:00"], 4: ["11:00", "20:00"], 5: ["11:00", "21:00"], 6: ["11:00", "21:00"], 0: ["11:00", "20:00"] } },
    { name: "æœ‰é£² åŸºéš†å»Ÿå£åº—", tel: "0224258827", url: "https://www.youindrink.com/pages/menu", cat: "drink", isHot: false, hours: { 1: ["11:00", "19:00"], 2: ["11:00", "19:00"], 3: ["11:00", "19:00"], 4: ["11:00", "19:00"], 5: ["12:00", "20:00"], 6: ["12:00", "20:00"], 0: ["12:00", "20:00"] } },
    { name: "æ—é¦™æª¸ å°ç£å‰µå§‹åº—", tel: "0224270618", url: "https://www.lamheunglingoverseas.com/cz", cat: "drink", isHot: false, hours: { all: ["11:00", "21:00"] } },
    { name: "Mr.Wish åŸºéš†å»Ÿå£åº—", tel: "0224273456", url: "https://www.mr-wish.com/", cat: "drink", isHot: false, hours: { 1: null, 2: ["11:00", "18:00"], 3: ["11:00", "18:00"], 4: ["11:00", "21:00"], 5: ["11:00", "22:00"], 6: ["11:00", "22:00"], 0: ["11:00", "21:00"] } },
    { name: "Coco åŸºéš†æµ·æ´‹åº—", tel: "0224620586", url: "https://coco-tea.nidin.shop/menu/21237", cat: "drink", isHot: false, hours: { all: ["10:00", "21:45"] } },
    { name: "å¾—æ­£ #åŸºéš†æµ·å¤§", tel: "0224621016", url: "https://order.nidin.shop/menu/18739", cat: "drink", isHot: true, hours: { 1: ["10:30", "21:30"], 2: ["10:30", "21:30"], 3: ["10:30", "21:30"], 4: ["10:30", "21:30"], 5: ["10:30", "21:30"], 6: ["11:00", "21:30"], 0: ["11:00", "21:30"] } },
    { name: "Comebuy åŸºéš†æ–°è±åº—", tel: "0224695668", url: "https://drive.google.com/file/d/1Rq51uQuxEv4VDxwoB-hDczLhqECx9Gu2/view?usp=sharing", cat: "drink", isHot: false, hours: { all: ["11:00", "22:00"] } },
    { name: "é¶´èŒ¶æ¨“ åŸºéš†å¿ ä¸€åº—", tel: "0224265572", url: "https://order.nidin.shop/menu/19710", cat: "drink", isHot: false, hours: { all: ["10:30", "20:00"] } },
    { name: "æ‹¾æ±£èŒ¶å±‹ åŸºéš†å»Ÿå£åº—", tel: "02-24247778", url: "https://www.19teahouse.com/works/detail/Store29", cat: "drink", isHot: true, hours: { 1: ["10:30", "21:00"], 2: ["10:30", "21:00"], 3: ["10:30", "21:00"], 4: ["10:30", "21:00"], 5: ["10:30", "21:30"], 6: ["11:00", "21:30"], 0: ["11:00", "21:00"] } },
    { name: "æ°´é›²å ‚ åŸºéš†ç¾©äºŒåº—", tel: "0224261227", url: "https://www.drinkstore.com.tw/web/product/product.jsp", cat: "drink", isHot: false, hours: { all: ["10:00", "22:00"] } },
    // åƒçš„
    { name: "è’Ÿè’»å±‹", tel: "0224229000", url: "https://drive.google.com/file/d/1T08WgpxufhYVOJ8sbfc7gvpthvoDaacY/view?usp=sharing", cat: "food", isHot: true, hours: { 1: ["09:00", "02:00"], 2: ["09:00", "02:00"], 3: ["09:00", "02:00"], 4: ["09:00", "02:00"], 5: ["09:00", "02:30"], 6: ["09:00", "02:30"], 0: ["09:00", "02:00"] } },
    { name: "å¤§ç¢—ç‰›è‚‰éºµ", tel: "0224633396", url: "https://drive.google.com/file/d/12wii4UGfDTHYECO5ObXyS6qutY9qRcaX/view?usp=sharing", cat: "food", isHot: true, hours: { all: ["11:00", "20:00"] } },
    { name: "éº¥å…‹éºµç·š", tel: "0224236667", url: "https://maps.app.goo.gl/DNe9c5xbqTsyfBGE7", cat: "food", isHot: false, hours: { 3: ["06:00", "17:30"], 4: ["06:00", "17:30"], 5: ["06:00", "17:30"], 6: ["06:00", "16:30"], 0: null, 1: null, 2: null } },
    { name: "è±†ä¹¾åŒ…", tel: "0224201711", url: "https://drive.google.com/file/d/18VeBd_w6HFvBD321t7Iu-QaNfko5CljQ/view?usp=sharing", cat: "food", isHot: true, hours: { all: ["10:00", "22:00"] } },
    { name: "ç¾é¦™é½‹æ»·å‘³", tel: "0224263357", url: "https://drive.google.com/file/d/1HRMavIpHZhSVDkrg-zm_cCksy0fPbjRK/view?usp=sharing", cat: "food", isHot: false, hours: { 1: ["10:45", "23:00"], 2: ["10:45", "23:00"], 3: ["10:45", "23:00"], 4: ["10:45", "23:00"], 5: ["10:45", "23:00"], 6: ["10:45", "23:00"], 0: null } },
    { name: "é‚±è¨˜ç‚’éºµï¼ˆæ±ä¿¡åº—ï¼‰", tel: "0224680335", url: "https://drive.google.com/file/d/1zuEI_w-zwS9rIGRcekHsb_QXll1twyg3/view?usp=sharing", cat: "food", isHot: true, hours: { 1: ["11:00", "14:00", "17:00", "20:00"], 2: ["11:00", "14:00", "17:00", "20:00"], 3: ["11:00", "14:00", "17:00", "20:00"], 4: ["11:00", "14:00", "17:00", "20:00"], 5: ["11:00", "14:00", "17:00", "20:00"], 0: ["11:00", "14:00", "17:00", "20:00"], 6: null } },
    { name: "å»–åª½åª½éºµé£¯é¤¨-æ–°è±åº—", tel: "0224680789", url: "https://drive.google.com/file/d/1j_SjavYZbnJjJHCJNSzVQaAzf_1e5Km0/view?usp=sharing", cat: "food", isHot: true, hours: { 1: ["11:00", "21:00"], 2: ["11:00", "21:00"], 3: ["11:00", "21:00"], 4: ["11:00", "21:00"], 5: ["11:00", "21:00"], 6: ["11:00", "20:30"], 0: null } }
];

function checkStatus(s) {
    const now = new Date(); const day = now.getDay(); const curr = now.getHours() * 60 + now.getMinutes();
    let range = s.hours.all || s.hours[day];
    if (!range) return { status: "OFFLINE", class: "tag-closed", msg: "ä»Šæ—¥å…¬ä¼‘" };
    if (range.length === 4) { // åˆ†æ®µè™•ç†
        let s1 = Number(range[0].split(":")[0])*60 + Number(range[0].split(":")[1]), e1 = Number(range[1].split(":")[0])*60 + Number(range[1].split(":")[1]);
        let s2 = Number(range[2].split(":")[0])*60 + Number(range[2].split(":")[1]), e2 = Number(range[3].split(":")[0])*60 + Number(range[3].split(":")[1]);
        if ((curr >= s1 && curr < e1) || (curr >= s2 && curr < e2)) return { status: "ONLINE", class: "tag-open", msg: "å·¥ä½œä¸­" };
        return { status: "IDLE", class: "tag-closed", msg: "åˆ†æ®µä¼‘æ¯" };
    }
    const [sH, sM] = range[0].split(":").map(Number); const [eH, eM] = range[1].split(":").map(Number);
    let sT = sH * 60 + sM, eT = eH * 60 + eM;
    if (eT < sT) { if (curr >= sT || curr < eT) return { status: "ONLINE", class: "tag-open", msg: "å®µå¤œæ¨¡çµ„" }; }
    else if (curr >= sT && curr < eT) return { status: "ONLINE", class: "tag-open", msg: "é‹ä½œä¸­" };
    return { status: "OFFLINE", class: "tag-closed", msg: "ä¼‘æ¯ä¸­" };
}

function renderStores(filterHot = false) {
    const dG = document.getElementById('drinks-grid'); const fG = document.getElementById('food-grid');
    dG.innerHTML = ''; fG.innerHTML = '';
    stores.forEach(s => {
        if (filterHot && !s.isHot) return;
        const info = checkStatus(s);
        const card = `
            <div class="card" id="${s.name}">
                ${s.isHot ? '<span style="color:var(--hot-gold); font-size:0.8rem; display:block;">âš¡ CORE_RANK (ç†±é–€)</span>' : ''}
                <span class="status-tag ${info.class}">${info.status}</span>
                <h3 style="color:var(--neon-blue); margin:10px 0;">${s.name}</h3>
                <div style="font-size:0.85rem; color:#aaa; line-height:1.5;">PORT: ${s.tel}<br>SYS: ${info.msg}</div>
                <div style="display:flex; gap:10px; margin-top:15px;">
                    <a href="tel:${s.tel}" class="btn-tech" style="text-decoration:none; text-align:center; flex:1; font-size:0.8rem;">CALL</a>
                    <a href="${s.url}" target="_blank" class="btn-tech" style="background:var(--neon-purple); color:#fff; text-decoration:none; text-align:center; flex:2; border-color:var(--neon-purple); font-size:0.8rem;" onclick="injectStore('${s.name}')">MENU</a>
                </div>
            </div>`;
        if (s.cat === 'drink') dG.innerHTML += card; else fG.innerHTML += card;
    });
}

// è‡ªå‹•å¡«å…¥åŠŸèƒ½
function injectStore(name) {
    document.getElementById('current-store-name').innerText = name;
}

function addRow() {
    const table = document.getElementById("dataTable").getElementsByTagName('tbody')[0];
    const newRow = table.insertRow();
    newRow.innerHTML = `<td><input type="text"></td><td><input type="text"></td><td><input type="number" class="val-input" oninput="sumTotal()"></td><td><button style="color:var(--closed-color); background:none; border:none; cursor:pointer;" onclick="this.closest('tr').remove();sumTotal()">[DEL]</button></td>`;
}

function sumTotal() {
    let t = 0; document.querySelectorAll(".val-input").forEach(i => t += (Number(i.value) || 0));
    document.getElementById("totalSum").innerText = t;
}

function resetData() {
    if(confirm("ç¢ºå®šæ¸…é™¤æ‰€æœ‰æ•¸æ“šï¼Ÿ")) {
        const tbody = document.querySelector("#dataTable tbody");
        tbody.innerHTML = '<tr><td><input type="text"></td><td><input type="text"></td><td><input type="number" class="val-input" oninput="sumTotal()"></td><td><button style="color:var(--closed-color); background:none; border:none; cursor:pointer;" onclick="this.closest(\'tr\').remove();sumTotal()">[DEL]</button></td></tr>';
        document.getElementById("totalSum").innerText = "0";
        document.getElementById("current-store-name").innerText = "WAITING FOR SELECTION...";
    }
}

function filterHot() { renderStores(true); }
window.onload = () => renderStores();
</script>
</body>
</html>
