<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Diamond Strategist | 極致策略棒球</title>
    <style>
        /* 視覺設計：戰情室風格 */
        :root {
            --bg: #020617;
            --card-bg: rgba(30, 41, 59, 0.7);
            --accent: #38bdf8;
            --danger: #f43f5e;
            --success: #10b981;
            --text: #f8fafc;
        }

        body {
            background-color: var(--bg);
            color: var(--text);
            font-family: 'Segoe UI', system-ui, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            overflow: hidden;
        }

        .game-box {
            background: var(--card-bg);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            padding: 2.5rem;
            border-radius: 24px;
            width: 100%;
            max-width: 500px;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.8);
            text-align: center;
        }

        h1 { font-size: 1.8rem; letter-spacing: 3px; color: var(--accent); margin: 0; }
        .tagline { font-size: 0.7rem; opacity: 0.5; margin-bottom: 2rem; text-transform: uppercase; }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 12px;
            margin-bottom: 25px;
        }

        .stat-item {
            background: rgba(15, 23, 42, 0.9);
            padding: 12px 5px;
            border-radius: 10px;
            font-family: 'Courier New', monospace;
            border-bottom: 2px solid var(--accent);
        }

        .label { display: block; font-size: 0.65rem; opacity: 0.6; margin-bottom: 4px; }
        .value { font-size: 1.1rem; font-weight: bold; }

        .console {
            height: 160px;
            background: #000;
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 25px;
            overflow-y: auto;
            text-align: left;
            font-size: 0.85rem;
            border: 1px solid #334155;
            display: flex;
            flex-direction: column-reverse;
        }

        .log-entry { margin-bottom: 6px; border-left: 2px solid var(--accent); padding-left: 8px; animation: fadeIn 0.3s ease; }
        @keyframes fadeIn { from { opacity: 0; transform: translateX(-5px); } to { opacity: 1; transform: translateX(0); } }

        .btn-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }

        button {
            background: transparent;
            border: 1px solid var(--accent);
            color: var(--accent);
            padding: 16px;
            border-radius: 14px;
            cursor: pointer;
            transition: all 0.2s;
            font-weight: 600;
        }

        button:hover {
            background: var(--accent);
            color: var(--bg);
            box-shadow: 0 0 20px rgba(56, 189, 248, 0.4);
            transform: translateY(-2px);
        }

        button:active { transform: translateY(0); }
        .hit { color: var(--danger); }
        .out { color: var(--success); }
    </style>
</head>
<body>

<div class="game-box">
    <h1>DIAMOND STRATEGIST</h1>
    <div class="tagline">Neural Baseball Simulation</div>

    <div class="stats-grid">
        <div class="stat-item"><span class="label">INNING</span><span class="value" id="inning">1</span></div>
        <div class="stat-item"><span class="label">OUTS</span><span class="value" id="outs">0</span></div>
        <div class="stat-item"><span class="label">SCORE</span><span class="value" id="score">0</span></div>
        <div class="stat-item"><span class="label">STAMINA</span><span class="value" id="stamina">100</span></div>
    </div>

    <div class="console" id="console">
        <div class="log-entry">等待投手指令... 系統就緒。</div>
    </div>

    <div class="btn-grid">
        <button onclick="play('4-Seam', '速球')">4-Seam<br><small>Power</small></button>
        <button onclick="play('Slider', '滑球')">Slider<br><small>Breaking</small></button>
        <button onclick="play('Splitter', '指叉球')">Splitter<br><small>Drop</small></button>
        <button onclick="play('Changeup', '變速球')">Changeup<br><small>Timing</small></button>
    </div>
</div>

<script>
    // 遊戲邏輯與狀態管理
    let game = {
        inning: 1,
        outs: 0,
        score: 0,
        stamina: 100,
        batterLogic: ["4-Seam", "Slider", "Splitter", "Changeup"][Math.floor(Math.random()*4)]
    };

    function play(pitchType, name) {
        if (game.stamina <= 5) {
            addLog("!! 警告：投手體力枯竭，球威嚴重下降 !!");
        }

        game.stamina = Math.max(0, game.stamina - 2);
        let hitChance = 0.26 + (100 - game.stamina) / 400;

        // 核心對戰邏輯：心理預判
        if (pitchType === game.batterLogic) {
            hitChance += 0.3; // 打者猜中球種
            addLog(`! 危險 ! 打者完全鎖定了你的 ${name}`);
        } else {
            hitChance -= 0.12; // 成功的配球干擾
            addLog(`投手投出 ${name}，打者節奏被破壞。`);
        }

        const roll = Math.random();
        if (roll < hitChance) {
            game.score++;
            addLog(`<span class="hit">⚾ 安打！失分紀錄增加。</span>`);
        } else {
            game.outs++;
            addLog(`<span class="out">✖ 出局！完成一次有效的壓制。</span>`);
        }

        if (game.outs >= 3) {
            game.inning++;
            game.outs = 0;
            addLog(`--- 進入第 ${game.inning} 局 ---`);
        }

        // 打者更新下一球的預測邏輯
        game.batterLogic = ["4-Seam", "Slider", "Splitter", "Changeup"][Math.floor(Math.random()*4)];
        updateUI();
    }

    function addLog(msg) {
        const console = document.getElementById('console');
        const entry = document.createElement('div');
        entry.className = 'log-entry';
        entry.innerHTML = `> ${msg}`;
        console.insertBefore(entry, console.firstChild);
    }

    function updateUI() {
        document.getElementById('inning').innerText = game.inning;
        document.getElementById('outs').innerText = game.outs;
        document.getElementById('score').innerText = game.score;
        document.getElementById('stamina').innerText = Math.round(game.stamina);
    }
</script>

</body>
</html>
